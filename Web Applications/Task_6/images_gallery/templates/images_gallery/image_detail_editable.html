<!DOCTYPE html>
<html>
<head>
<title>Page Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body class="bg-light">



<div class="d-flex justify-content-center mt-4">
<div class="bg-white p-4 rounded-5">

    <svg width="{{ image.width }}" height="{{ image.height }}" viewBox="0 0 {{ image.width }} {{ image.height }}" version="1.1" xmlns="http://www.w3.org/2000/svg">
        {% for rectangle in image.rectangles.all %}
        <rect x="{{ rectangle.x }}" y="{{ rectangle.y }}" width="{{ rectangle.width }}" height="{{ rectangle.height }}" fill="{{ rectangle.color }}"></rect>
        {% endfor %}
    </svg>

    <h3 class="mt-4">{{ image.title }}</h3>
    <p>Wielkość: {{ image.width }}x{{ image.height }}</p>



    <h4 class="mt-4">Dodaj nowy prostokąt:</h4>
    <form method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="btn btn-outline-success">Dodaj</button>
    </form>

    <h4 class="mt-4">Prostokąty:</h4>
    <table class="table table-striped">
        <tr>
            <th>x</th>
            <th>y</th>
            <th>szerokość</th>
            <th>wysokość</th>
            <th>kolor</th>
            <th>akcje</th>
        </tr>
        {% for rectangle in image.rectangles.all %}
        <tr>
            <td>{{ rectangle.x }}</td>
            <td>{{ rectangle.y }}</td>
            <td>{{ rectangle.width }}</td>
            <td>{{ rectangle.height }}</td>
            <td>{{ rectangle.color }}</td>
            <td>
                <form action="{% url 'rectangle_delete' pk=image.pk rectangle_pk=rectangle.pk %}" method="post">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-outline-danger">Usuń</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </table>



</div>
</div>

<div class="d-flex justify-content-center mt-3">
    <a href="{% url 'my_images' %}" class="btn btn-outline-primary">Powrót do twoich obrazków</a>
</div>



<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>


